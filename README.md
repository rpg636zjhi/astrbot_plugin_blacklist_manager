# QQ群邀请自动同意插件

一个基于 AstrBot 框架的插件，支持自动同意QQ群邀请（带黑名单拦截功能）和管理员主动申请入群。

## 功能特性

### 🎯 核心功能
- **自动同意群邀请**：自动处理被邀请入群的请求
- **黑名单拦截**：支持群号和邀请者QQ号黑名单
- **主动入群**：管理员可通过指令主动申请加入指定群聊
- **权限控制**：仅管理员可使用主动入群功能

### ⚡ 便捷操作
- 自动创建配置文件模板
- 详细的日志记录
- 友好的用户反馈

## 安装方法

1. 将插件文件 `auto_accept_invite.py` 放入 AstrBot 的插件目录
2. 重启 AstrBot 或重新加载插件
3. 插件会自动在相同目录下创建 `_conf_schema.json` 配置文件

## 配置说明

### 配置文件结构
```json
{
  "blacklist": {
    "group_ids": ["群号1", "群号2"],
    "user_ids": ["QQ号1", "QQ号2"]
  }
}
```

### 配置项说明
- **group_ids**：黑名单群号列表（字符串格式）
- **user_ids**：黑名单邀请者QQ列表（字符串格式）

## 使用指南

### 自动处理群邀请
- 当收到群邀请时，插件会自动检查：
  - 群号是否在黑名单中
  - 邀请者QQ是否在黑名单中
- 如果不在黑名单中，自动同意加入
- 如果在黑名单中，自动拒绝并记录日志

### 主动入群指令
管理员可以使用以下指令主动申请加入群聊：

```
/入群 [QQ群号]
```
或
```
/加群 [QQ群号]
```

**示例：**
```
/入群 123456789
```

**响应：**
```
已向群 123456789 发送入群申请，请等待群主/管理员同意
```

## 权限说明

- **自动同意/拒绝邀请**：所有用户触发的邀请都会处理
- **主动入群指令**：仅限管理员使用

## 更新日志

### v1.1.0
- 新增黑名单功能
- 添加详细日志记录

### v1.0.0
- 基础自动同意功能
- 基础事件处理框架

## 注意事项

1. **权限要求**：机器人账号需要具备处理群邀请的权限
2. **群号格式**：主动入群时群号必须为5-13位数字
3. **申请处理**：主动入群只是发送申请，仍需群主/管理员同意
4. **配置更新**：修改黑名单配置后需要重启插件生效

## 故障排除

### 常见问题
1. **插件未响应邀请**
   - 检查机器人账号权限
   - 查看日志确认插件是否正常加载

2. **主动入群失败**
   - 确认指令格式正确
   - 检查群号是否存在且格式正确
   - 确认发送者是否为管理员

3. **配置不生效**
   - 检查配置文件格式是否正确
   - 确认修改配置后已重启插件

## 技术支持

如有问题或建议，请访问 [GitHub仓库](https://github.com/rpg636zjhi/astrbot_plugin_auto_accept_invite) 提交Issue。

---

**插件作者：** rpg636zjhi
**版本：** 1.1.0
**兼容平台：** QQ